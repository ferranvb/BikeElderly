<div class="px-4 pt-0">
    <div class="flex align-items-center w-full bg-no-repeat bg-center border-100 border-1 border-round px-0 pt-0" >
        <div class="flex-grow-1 flex align-items-left justify-content-left  font-bold ml-0 px-4 py-0">
          <h2>Llistat de Cites</h2>
        </div>
        <div class="flex-grow-1 flex align-items-right justify-content-end font-bold mr-4">
            <a [routerLink]="'/app/appointment/new'"> 
                <!-- <p-image src="assets/images/undo-48.jpg" alt="Image" width="20"></p-image> -->
                Nou
            </a>
        </div>
    </div>

    @defer(on timer(300ms)) {
    <p-table [value]="appointmentsList" styleClass="p-datatable-striped" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <!-- <th pSortableColumn="id" style="width:20%">Id<p-sortIcon field="id"></p-sortIcon></th> -->
                <!-- <th>Id</th> -->
                <th pSortableColumn="day" style="width:20%">Dia<p-sortIcon field="day"></p-sortIcon></th>
                <th>Hora Inici</th>
                <th>Hora Fi</th>
                <th>Client</th>
                <th>Estri</th>
                <th>Voluntari</th>
                <th>Programada</th>
                <th>ACCIÃ“</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-appointment>
            <tr>
                <!-- <td>{{ appointment.id }}</td> -->
                <td>{{ appointment.day | date: 'dd-MM-YYYY'}}</td>
                <td>{{ appointment.startTime | date: 'HH:mm' }}</td>
                <td>{{ appointment.endTime | date: 'HH:mm' }}</td>
                <td>{{ appointment.client?.full_name }}</td>
                <td>{{ appointment.good?.full_name }}</td>
                <td>{{ appointment.volunteer?.full_name }}</td> 
                <td>
                    @if ( appointment?.scheduled ) {
                        <p-image src="assets/images/green-dot.svg" alt="Image" width="10" class="ml-3"></p-image>
                    } @else {
                        <p-image src="assets/images/red-dot.svg" alt="Image" width="10" class="ml-3"></p-image>    
                    }

                </td>
                <button pButton pRipple icon="pi pi-pencil" (click)="goEdit(appointment)" class="p-button-success mt-2"></button>
            </tr>
        </ng-template>
    </p-table>
    } @placeholder {
        <shared-spining></shared-spining>

    }
</div>